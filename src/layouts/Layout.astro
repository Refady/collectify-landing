---
import Navigation from "@/components/Navigation";
import "../styles/global.css";
import { getCollection } from "astro:content";
import Footer from "@/components/Footer";

const navigations = await getCollection("navigations");
const mainNavigation = navigations.find(({ data: nav }) => nav.navigationId === "main");
const footerNavigations = navigations.filter(({ data: nav }) => nav.showInFooter === true);
---

<!doctype html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="generator" content={Astro.generator} />
  <title>Collectify - Asystent Klasowego Skarbnika</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet"
  />
</head>
<body class="bg-background text-text font-display dark overflow-x-hidden min-h-screen grid grid-rows-[1fr_auto]">
<Navigation navItems={mainNavigation?.data.items} client:only />
<div class="w-full max-w-[1200px] mx-auto px-[30px] max-[1200px]:overflow-x-hidden">
  <slot />
</div>
<Footer menus={footerNavigations} />
</body>
</html>
